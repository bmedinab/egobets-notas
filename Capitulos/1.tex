\chapter{Introducción}

Desde sus orígenes, las apuestas en los partidos de futbol han sido un controversial tema de interés. Vencer a las casas de apuestas se ha vuelto una fascinación Hollywoodense. Muchos supuestos ``oráculos'' han utilizado los métodos menos ortodoxos para la obtención de los marcadores, e incluso se han llevado a cabo acciones fraudulentas para asegurar que se cumplan sus predicciones. Sin embargo, en la actualidad, las matemáticas y la computación ofrecen un paradigma menos esotérico pero igual de fascinante: la predicción de resultados de partidos de futbol a través de modelos matemáticos.

En este trabajo se describe cómo funciona Egobets, una aplicación computacional de las matemáticas al estudio de las apuestas de futbol. Egobets proveee asesoría de apuestas personalizadas para partidos de futbol de las siguientes ligas europeas: alemana, española, francesa, inglesa e italiana. Su objetivo es, dado un perfil de riesgo, indicar al usuario la cantidad de dinero y las apuestas que debe realizar para buscar tener ganancias al final de la temporada. Para tal fin, se combinan un conjunto de modelos matemáticos en un sistema robusto computacional.

El sistema Egobets es interesante e innovador ya que no sólo predice el resultado de un partido de futbol, sino que además utiliza la información de todas las ligas europeas para ofrecer una estrategia que maximice la cantidad de dinero a ganar del usuario tomando en cuenta su perfil de riesgo. Adicionalmente, el sistema le sugiere al usuario conservar un porcentaje de su dinero para apostar más agresivamente en caso de perder todas la apuestas de la jornada; garantizando así una mayor cantidad de apuestas durante la temporada y con esto, asegurar una mayor probabilidad de obtener ganancias.

Sólo las Matemáticas son tan arriesgadas como para concebir modelos de fenómenos tan particulares como los partidos de futbol. Y su labor no termina ahí, también proveen las herramientas necesarias para encontrar el conjunto de apuestas a realizar en la jornada, con el fin de maximizar la cantidad de dinero a ganar. Por otro lado, gracias a los sistemas computacionales y las nuevas tecnologías, se pueden crear las piezas de software de este sistema para ofrecer resultados reales de estas abstracciones matemáticas. Este ecosistema de modelos, aplicaciones y programas funcionan de manera armoniosa presentando resultados al usuario en una interfaz elegante, funcional, simple y fácil de usar. 

El alcance de este trabajo es el de describir el sistema desarrollado para asesoría de apuestas Egobets. Se explicarán los distintos programas y sistemas que conforman el desarrollo, así como las teorías matemáticas que dan sustento al mismo. El documento divide el sistema en tres capítulos.

Bajo los supuestos de que en función a su adversidad al riesgo, el jugador promedio busca obtener mayores ganancias de sus apuestas  y, que apostar siempre es mejor a no hacerlo; en la primera parte del presente trabajo se describe cómo encontrar la mejor apuesta para cada partido. Sin embargo, durante una jornada se juegan múltiples partidos, por lo que posteriormente se resuelve la siguiente pregunta: ¿a qué partidos y a qué equipos el usuario le debería de apostar? Para complicar más las cosas y debido a que una temporada tiene más de una jornada, la persona necesita garantizar la posibilidad de apuesta en cada una de ellas. En virtud de los anterior, se expone la evolución de su dinero buscando maximizar las ganancias al final de la temporada. 


En el segundo apartado del estudio, se habla del conjunto de módulos que conforman el Back Office: sistema de recopilación de información y estadísticas de los partidos, sistema de estimación de probabilidades de los partidos y portal administrativo. Se describe cómo el sistema de recolección de información descarga los datos de las ligas, partidos por jugar y estadísticas de los ya jugados. Se comienza detallando el funcionamiento del sistema recolector de datos, desde la ingestión de los equipos participantes en la temporada vigente, hasta la recolección de los tiros realizados en cada partido por cada jugador. Después, con toda la información obtenida de los desempeños de los equipos en los últimos partidos, se describen las simulaciones Montecarlo. Éstas utilizan miles de variables para estimar los resultados de los partidos de futbol, obteniendo con estos datos las probabilidades de ganar, perder o empatar de cada partido. Posteriormente, se exhibe cómo en el portal administrativo se ingresan estas probabilidades junto con los datos de los próximos partidos a jugar. También se detalla cómo este portal, a través de su interfaz gráfica, permite gestionar usuarios, partidos y probabilidades.


En la tercer sección de este estudio, se describirá exhaustivamente cómo se adaptaron las ideas del primer apartado y la información generada por el Back Office (descrito en el segundo apartado de este estudio) para el diseño y desarrollo del portal público. Se describe cómo este portal también ofrece al usuario revisar y actualizar su perfil, retomar la encuesta de riesgo, revisar los últimos resultados de los partidos, ver la tabla de ``Power Ranking'', que presenta los equipos listados en lo que se considera el orden al final de la temporada, y la función de pago de suscripciones a este sistema a través de una plataforma de pagos.


En el último capítulo, se concluye que se puede llevar un apuesta simple a un portafolio de inversión. De igual manera se observa que aunque un jugador tuviera en su poder las probabilidades verdaderas de los resultados de los partidos no podría hacer nada con ellas, por lo que es necesario un enfoque de un problema de optimización. Y finalmente que teniendo un sistema metódico que decida las apuestas, remueve la emoción de la apuesta y lo convierte en un riesgo calculado. Al igual, se enumeran los distintos campos al que este sistema se podría extender: mayores ligas, diferentes deportes, elecciones y cualquier otro fenómeno probabilístico de varianza moderada.

